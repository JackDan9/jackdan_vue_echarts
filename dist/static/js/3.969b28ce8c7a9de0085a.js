webpackJsonp([3],{D7x1:function(t,e,a){"use strict";var i={props:{wholePage:{type:Boolean,default:!1},tableData:{type:Array,default:[]},tableType:{type:Number,default:0}},data:function(){return{theadData:["No","日期","市民提交","已受理","已办结","办事总量"],tbodyData:[[0,2017,1620,1573,22,1620],[1,2017,1620,1573,22,1620],[2,2017,1620,1573,22,1620],[3,2017,1620,1573,22,1620],[4,2017,1620,1573,22,1620],[5,2017,1620,1573,22,1620],[6,2017,1620,1573,22,1620],[7,2017,1620,1573,22,1620],[8,2017,1620,1573,22,1620],[9,2017,1620,1573,22,1620],[10,2017,1620,1573,22,1620],[11,2017,1620,1573,22,1620],[12,2017,1620,1573,22,1620],[13,2017,1620,1573,22,1620],[14,2017,1620,1573,22,1620],[15,2017,1620,1573,22,1620],["合计","",1620,1573,22,1620]],switchData:[{name:"总体波动",isSwitchActive:!0},{name:"最大波动",isSwitchActive:!1},{name:"最小波动",isSwitchActive:!1}],switchType:0,activeClass:"swicth-title-active",errorClass:"swicth-title-inactive",tableWhole:"table-container",tableInWhole:"table-container-whole",dataArr:[],maxData:[],minData:[],switchIndex:0,current:1,showItem:5,allpage:13}},computed:{pages:function(){var t=[];if(this.current<this.showItem)for(var e=Math.min(this.showItem,this.allpage);e;)t.unshift(e--);else{var a=this.current-Math.floor(this.showItem/2),i=this.showItem;for(a>this.allpage-this.showItem&&(a=this.allpage-this.showItem+1);i--;)t.push(a++)}return t}},created:function(){var t=this;this.$watch("tableData",function(e){t.tbodyData=[],t.theadData=[],t.dataArr=[],1==t.tableType?t.switchData=[{name:"总体波动",isSwitchActive:!0}]:t.switchData=[{name:"总体波动",isSwitchActive:!0},{name:"最大波动",isSwitchActive:!1},{name:"最小波动",isSwitchActive:!1}],t.tableData.map(function(e,a){var i,s=e.name,l=e.data,n=e.data.length,r=t.stdev(l,n);i=0==r?"此数据没有波动":r>0&&r<=100?"小于100":r>100&&r<=1e3?"小于1000":"大于1000",t.dataArr.push({name:s,stdevData:r,stdevType:i})}),t.tbodyData=t.arrSort(t.dataArr,t.dataArr.length),t.theadData=["No","波动大小数值","波动范围"]})},methods:{switchClick:function(t){this.switchIndex=t;for(var e=this.switchData.length,a=0;a<e;a++)if(this.switchIndex==a)if(this.switchData[this.switchIndex].isSwitchActive=!this.switchData[this.switchIndex].isSwitchActive,this.theadData=[],this.tbodyData=[],this.theadData=["No","波动大小数值","波动范围"],0==this.switchIndex)this.tbodyData=this.arrSort(this.dataArr,this.dataArr.length);else if(1==this.switchIndex){var i=[],s=this.dataArr.length;i=this.arrSort(this.dataArr,this.dataArr.length),this.tbodyData=i.splice(s-5,s)}else{var l=[];l=this.arrSort(this.dataArr,this.dataArr.length),this.tbodyData=l.slice(0,5)}else this.switchData[a].isSwitchActive=!1},stdev:function(t,e){var a=0,i=this.avg(t,e),s=0;for(a=0;a<e;a++)s+=(t[a]-i)*(t[a]-i);return Math.sqrt(s/e)},avg:function(t,e){var a=0,i=0;for(a=0;a<e;a++)i+=t[a];return i/e},arrSort:function(t,e){for(var a=0;a<e;a++)for(var i=a;i<e;i++)if(t[a].stdevData>t[i].stdevData){var s=t[a];t[a]=t[i],t[i]=s}return t},arrMax:function(t,e){for(var a=t[0].stdevData,i=1;i<e;i++)t[i].stdevData>a&&(a=t[i].stdevData)},arrMin:function(t,e){for(var a=t[0].stdevData,i=1;i<e;i++)t[i].stdevData<a&&(a=t[i].stdevData)},goto:function(t){t!=this.current&&(this.current=t)}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"switch-title",style:"width:"+10*t.switchData.length+"%"},t._l(t.switchData,function(e,i){return a("div",{key:i,class:[e.isSwitchActive?t.activeClass:"",t.errorClass],style:"width:"+100/t.switchData.length+"%",on:{click:function(e){t.switchClick(i)}}},[t._v("\n            "+t._s(e.name)+"\n        ")])})),t._v(" "),a("div",{staticClass:"table-container",class:[t.wholePage?t.tableInWhole:""]},[a("table",{staticClass:"table-title"},[a("thead",[a("tr",t._l(t.theadData,function(e,i){return a("td",{key:i,style:"width:"+100/t.theadData.length+"%"},[t._v("\n                        "+t._s(e)+"\n                    ")])}))])]),t._v(" "),a("div",{staticClass:"table-body"},[a("table",[a("tbody",t._l(t.tbodyData,function(e,i){return a("tr",{key:i},t._l(e,function(e,i){return a("td",{key:i,style:"width:"+100/t.theadData.length+"%"},[t._v("\n                            "+t._s(e)+"\n                        ")])}))}))])])])])},staticRenderFns:[]},l=a("Z0/y")(i,s,!1,function(t){a("kzBz")},"data-v-c828c9f6",null);e.a=l.exports},frgD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("Userh"),s=a("jgaoa"),l=a("rUbYz"),n=a("6CT3g"),r=a("D7x10"),h=a("aozt"),c=a.n(h),d={data:function(){return{items:[],name:"15分钟数据",activeClass:"box-card-active",errorClass:"box-card",legendArr:[],data:{},optionData:{},lineId:"priceLine",legendData:[],xAxisData:[],seriesData:[],chartType:[{name:"15分钟数据",isPriceActive:!0},{name:"15分钟总数",isPriceActive:!1},{name:"15分钟占比",isPriceActive:!1}],selectType:[{name:"全选",isSelectDisabled:!1},{name:"全不选",isSelectDisabled:!1}],chooseTimeType:[{name:"3小时",isTimeDisabled:!1},{name:"6小时",isTimeDisabled:!1},{name:"12小时",isTimeDisabled:!1},{name:"总数",isTimeDisabled:!1}],myLineChart:{},selectedObj:{},typePriceIndex:0,selectStatus:!0,formTime:parseInt((new Date).getTime()/1e3-86400),showSelectAll:!0,showSelectTimeAll:!0,showFilter:!1,chooseNotAll:!0,tableData:[],tableType:0}},mounted:function(){this.getData()},methods:{getData:function(){var t=this;c.a.get("/15mins_carrier",{params:{from:this.formTime}}).then(function(e){var a=e.data.data;t.data=a,t.legendData=[],t.xAxisData=[],t.seriesData=[],t.tableData=[];for(var i=0;i<t.data.ts.length;i++){var s=new Date(1e3*parseInt(t.data.ts[i])).toLocaleString("ch",{hour12:!1}).replace(/:\d{1,2}$/," ");t.xAxisData.push(s)}if(0==t.typePriceIndex)for(var l in t.tableType=0,t.data.num15)t.legendData.push({name:l,icon:"bar",textStyle:{fontWeight:"bold",color:"rgba(255,255,255,1)"}}),t.tableData.push({name:l,data:t.data.num15[l]}),t.seriesData.push({name:l,type:"line",data:t.data.num15[l],smooth:!0});else if(1==t.typePriceIndex){t.tableType=1;for(var n=[],r=0,h=0;h<t.data.num15.BE.length;h++){for(var c in r=0,t.data.num15)void 0==t.data.num15[c][h]&&(t.data.num15[c][h]=0),r+=t.data.num15[c][h];n.push(r)}t.tableData.push({name:"总数",data:n}),t.seriesData.push({name:"总数",type:"line",data:n,smooth:!0})}else for(var d in t.tableType=2,t.data.per)t.legendData.push({name:d,icon:"bar",textStyle:{fontWeight:"bold",color:"rgba(255,255,255,1)"}}),t.tableData.push({name:d,data:t.data.per[d]}),t.seriesData.push({name:d,type:"line",data:t.data.per[d],smooth:!0})}).catch(function(t){})},selectClick:function(t){for(var e=0;e<this.selectType.length;e++)this.selectType[e].isSelectDisabled=t==e;0==t?(this.selectStatus=!0,this.getData()):1==t&&(this.selectStatus=!1,this.getData())},timeClick:function(t){for(var e=0;e<this.chooseTimeType.length;e++)this.chooseTimeType[e].isTimeDisabled=t==e;if(0==t){var a=parseInt((new Date).getTime()/1e3-10800);this.formTime=a,this.getData()}else if(1==t){var i=parseInt((new Date).getTime()/1e3-21600);this.formTime=i,this.getData()}else if(2==t){var s=parseInt((new Date).getTime()/1e3-43200);this.formTime=s,this.getData()}else this.formTime=1,this.getData()},selectNotAll:function(){this.allDisabled=!1,this.allNotDisabled=!0,this.chooseNotAll=!1;for(var t={},e=0;e<this.legendData.length;e++)t[this.legendData[e].name]=!1;this.option={legend:{data:this.legendData,selected:t},xAxis:{data:this.xAxisData},series:this.seriesData}},selectAll:function(){this.allDisabled=!0,this.allNotDisabled=!1;for(var t={},e=0;e<this.legendData.length;e++)t[this.legendData[e].name]=!0;this.option={legend:{data:this.legendData,selected:t},xAxis:{data:this.xAxisData},series:this.seriesData}},selectSmall:function(){this.smallDisabled=!0,this.middleDisabled=!1,this.bigDisabled=!1,this.sumDisabled=!1,this.allDisabled=!1,this.allNotDisabled=!1;var t=parseInt((new Date).getTime()/1e3-10800);this.formTime=t,this.getData()},selectMiddle:function(){this.smallDisabled=!1,this.middleDisabled=!0,this.bigDisabled=!1,this.sumDisabled=!1;var t=parseInt((new Date).getTime()/1e3-21600);this.xAxisData=[];for(var e=0;e<this.data.ts.length;e++)if(t<this.data.ts[e]){var a=new Date(1e3*parseInt(this.data.ts[e])).toLocaleString("ch",{hour12:!1}).replace(/:\d{1,2}$/," ");this.xAxisData.push(a)}this.option={legend:{data:this.legendData},xAxis:{data:this.xAxisData},series:this.seriesData}},selectBig:function(){this.smallDisabled=!1,this.middleDisabled=!1,this.bigDisabled=!0,this.sumDisabled=!1;var t=parseInt((new Date).getTime()/1e3-43200);this.xAxisData=[];for(var e=0;e<this.data.ts.length;e++)if(t<this.data.ts[e]){var a=new Date(1e3*parseInt(this.data.ts[e])).toLocaleString("ch",{hour12:!1}).replace(/:\d{1,2}$/," ");this.xAxisData.push(a)}this.option={legend:{data:this.legendData},xAxis:{data:this.xAxisData},series:this.seriesData}},selectSum:function(){this.smallDisabled=!1,this.middleDisabled=!1,this.bigDisabled=!1,this.sumDisabled=!0,this.xAxisData=[];for(var t=0;t<this.data.ts.length;t++)if(0<this.data.ts[t]){var e=new Date(1e3*parseInt(this.data.ts[t])).toLocaleString("ch",{hour12:!1}).replace(/:\d{1,2}$/," ");this.xAxisData.push(e)}this.option={legend:{data:this.legendData},xAxis:{data:this.xAxisData},series:this.seriesData}},resize:function(){this.$root.charts.forEach(function(t){t.resize()})},chartFlightLine:function(t){this.myLineChart=t},typeClick:function(t){for(var e=0;e<this.chartType.length;e++)this.chartType[e].isPriceActive=e==t;this.name=this.chartType[t].name,this.typePriceIndex=t,0==t?(this.showSelectAll=!0,this.allDisabled=!1,this.allNotDisabled=!1,this.getData()):1==t?(this.showSelectAll=!1,this.getData()):(this.showSelectAll=!0,this.allDisabled=!1,this.allNotDisabled=!1,this.getData())},init:function(){this.legendArr=this.myLineChart.getOption().series,this.legendArr.forEach(function(t){t.selected=!0})}},components:{"v-echart-header":i.a,"v-line-new":s.a,"v-filter":l.a,"v-timer":n.a,"v-table":r.a}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("div",{staticClass:"container"},[a("v-timer"),t._v(" "),a("div",{staticClass:"chart-content"},[t._m(0),t._v(" "),t._l(t.chartType,function(e,i){return a("div",{key:i,class:[e.isPriceActive?t.activeClass:"",t.errorClass],on:{click:function(e){t.typeClick(i)}}},[a("div",{staticClass:"box-card-header"},[a("div",{staticClass:"clearfix"},[a("span",[t._v(t._s(e.name))])])])])})],2),t._v(" "),a("div",{staticClass:"chart-price"},[a("div",{staticClass:"title"},[a("h1",[t._v(t._s(t.name))]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showSelectAll,expression:"showSelectAll"}],staticClass:"chart-select-all"},t._l(t.selectType,function(e,i){return a("button",{attrs:{disabled:e.isSelectDisabled},on:{click:function(e){t.selectClick(i)}}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showSelectTimeAll,expression:"showSelectTimeAll"}],staticClass:"chart-select-time"},t._l(t.chooseTimeType,function(e,i){return a("button",{attrs:{disabled:e.isTimeDisabled},on:{click:function(e){t.timeClick(i)}}},[t._v("\n                        "+t._s(e.name)+"\n                    ")])}))]),t._v(" "),a("v-line-new",{attrs:{lineId:t.lineId,xAxisData:t.xAxisData,legendData:t.legendData,seriesData:t.seriesData,selectStatus:t.selectStatus}})],1)],1),t._v(" "),a("v-table",{attrs:{tableData:t.tableData,tableType:t.tableType}})],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"chart-title"},[a("h1",[t._v("航线数据")])])}]},D=a("Z0/y")(d,o,!1,function(t){a("zWj7")},"data-v-2c388931",null);e.default=D.exports},kzBz:function(t,e){},zWj7:function(t,e){}});