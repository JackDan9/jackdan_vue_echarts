webpackJsonp([5],{fgm8:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=e("6CT3g"),r=e("jgaoa"),n=e("aozt"),i=e.n(n),c={data:function(){return{name:"同程",chartType:[{name:"同程",isSearchActive:!0},{name:"去哪儿",isSearchActive:!1},{name:"携程",isSearchActive:!1},{name:"去那儿2",isSearchActive:!1}],activeClass:"box-card-active",errorClass:"box-card",lineId:"searchLine",xAxisData:[],seriesData:[],legendData:[],searchData:"",filterStatus:!1,selectStatus:!0,legendShow:!0,oneHourData:[],srcType:1}},mounted:function(){this.getSearchData()},methods:{getSearchData:function(){var a=this;i.a.get("search?="+this.srcType,{params:{src:this.srcType}}).then(function(t){var e=t.data.data;a.xAxisData=[],a.seriesData=[],a.legendData=[],a.oneHourData=e;var s=[],r=[],n=[],i=[];for(var c in a.oneHourData){var h=new Date(1e3*parseInt(a.oneHourData[c].ts)).toLocaleString("ch",{hour12:!1}).replace(/:\d{1,2}$/," ");a.xAxisData.push(h.slice(0,12)),s.push(a.oneHourData[c].searchcount),r.push(a.oneHourData[c].meetcount),n.push(a.oneHourData[c].roundtrip)}for(var o in i.push({name:"搜索量",data:s},{name:"命中量",data:r},{name:"往返量",data:n}),i)a.legendData.push({name:i[o].name,icon:"bar",textStyle:{fontWeight:"bold",color:"rgba(255,255,255,1)"}}),a.seriesData.push({name:i[o].name,type:"line",data:i[o].data,smooth:!0})}).catch(function(a){})},typeClick:function(a){for(var t=0;t<this.chartType.length;t++)this.chartType[t].isSearchActive=t==a;this.name=this.chartType[a].name,0==a?(this.srcType=1,this.getSearchData()):1==a?(this.srcType=2,this.getSearchData()):2==a?(this.srcType=3,this.getSearchData()):(this.srcType=4,this.getSearchData())}},components:{"v-timer":s.a,"v-line-new":r.a}},h={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"dashboard"},[e("div",{staticClass:"container"},[e("v-timer"),a._v(" "),e("div",{staticClass:"chart-content"},[a._m(0),a._v(" "),a._l(a.chartType,function(t,s){return e("div",{key:s,class:[t.isSearchActive?a.activeClass:"",a.errorClass],on:{click:function(t){a.typeClick(s)}}},[e("div",{staticClass:"box-card-header"},[e("span",[a._v(a._s(t.name))])])])})],2),a._v(" "),e("div",{staticClass:"chart-search"},[e("div",{staticClass:"title"},[e("h1",[a._v(a._s(a.name))])]),a._v(" "),e("v-line-new",{attrs:{lineId:a.lineId,xAxisData:a.xAxisData,legendData:a.legendData,seriesData:a.seriesData,selectStatus:a.selectStatus,searchData:a.searchData,filterStatus:a.filterStatus,legendShow:a.legendShow}})],1)],1)])},staticRenderFns:[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"chart-title"},[e("h1",[a._v("一小时数据搜索")])])}]},o=e("vSla")(c,h,!1,function(a){e("t66n")},"data-v-4222e829",null);t.default=o.exports},t66n:function(a,t){}});