webpackJsonp([1],{"15Xw":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("K07iM"),s=e("Userh"),n=e("5YEj"),r=e.n(n),o={title:{show:!1,text:"订单数",subtext:"",x:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{show:!0,type:"scroll",right:0,top:0,bottom:0,inactiveColor:"#333",pageFormatter:"{current}",pageIconColor:"#fff",pageIconInactiveColor:"#333",pageTextStyle:{color:"#fff"},data:[]},series:[{name:"",type:"pie",radius:["65%","85%"],center:["50%","55%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{name:"VJ",value:48},{name:"VY",value:35},{name:"VJ",value:410}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},h={props:{legendData:{type:Array,default:[]},seriesData:{type:Array,default:[]}},data:function(){return{myChart:{}}},mounted:function(){this.init()},created:function(){var t=this;this.$watch("legendData.seriesData",function(a){!t.myChart&&legendData.seriesData?t.init():(t.myChart=r.a.init(document.getElementById("newPieId")),t.myChart.setOption(o,!0),t.myChart.setOption({legend:{data:t.legendData},series:[{data:t.seriesData}]}))},{deep:!this.watchShallow})},methods:{init:function(){this.myChart||(this.myChart=r.a.init(document.getElementById("newPieId")),this.myChart.setOption(o,!0),window.addEventListener("resize",this.myChart.resize))}}},c={render:function(){var t=this;t.$createElement;return t._self._c,t._m(0)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"new-pie-container"},[a("div",{attrs:{id:"newPieId"}})])}]},l=e("vSla")(h,c,!1,function(t){e("jwJB")},"data-v-4f092dec",null).exports,d=e("rUbYz"),m={title:{show:!1},tooltip:{trigger:"axis"},legend:{show:!1},toolbox:{show:!1},color:["#325B69","#698570","#AE5548","#6D9EA8","#9CC2B0","#C98769"],calculable:!0,xAxis:[{name:"产品",type:"category",axisLine:{show:!1},axisTick:{show:!1},nameTextStyle:{color:"rgba(255, 255, 255, 0.69)"},axisLabel:{textStyle:{color:"white"}},data:["产品1","产品2","产品3","产品4","产品5"]}],yAxis:[{axisLine:{show:!1},nameLocation:"end",nameGap:20,nameRotate:0,axisTick:{show:!1},splitLine:{lineStyle:{color:["rgba(230, 230, 230, 0.2)"]}},axisLabel:{textStyle:{color:"white",fontSize:14}},name:"数量",type:"value",nameTextStyle:{color:"rgba(255, 255, 255, 0.69)"}}],series:[{name:"标签1",stack:"stack1",type:"bar",data:[2,4.9,5.9,3,6],barWidth:16,barGap:0},{name:"标签2",stack:"stack2",type:"bar",data:[2.6,5.9,3.6,6,8],barWidth:16,barGap:0},{name:"标签3",stack:"stack3",type:"bar",data:[2,6.4,6,4,5],barWidth:16,barGap:0},{name:"标签4",stack:"stack1",type:"bar",data:[4,5.9,3,3,6],barWidth:16,barGap:0},{name:"标签5",stack:"stack2",type:"bar",data:[5.6,4.9,6,5,5],barWidth:16,barGap:0},{name:"标签6",stack:"stack3",type:"bar",data:[2,3.4,8],barWidth:16,barGap:0}]},u={data:function(){return{legendArr:[],color:this.$store.state.color,styleArr:[],myChart:{},name:"复杂柱状图"}},methods:{init:function(){this.legendArr=this.myChart.getOption().series,this.legendArr.forEach(function(t){t.selected=!0}),this.$root.charts.push(this.myChart),window.addEventListener("resize",function(){this.myChart.resize()}.bind(this))}},components:{"v-echart-header":s.a,"v-filter":d.a},mounted:function(){this.myChart=r.a.init(document.getElementById("multipleColumnChart")),this.myChart.setOption(m),this.init()}},v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"multipleColumn"},[e("v-echart-header",{attrs:{name:t.name,legendArr:t.legendArr,myChart:t.myChart}}),t._v(" "),e("div",{staticClass:"filter"},[t.myChart._dom?e("v-filter",{attrs:{myChart:t.myChart}}):t._e()],1),t._v(" "),e("div",{staticClass:"main",attrs:{id:"multipleColumnChart"}})],1)},staticRenderFns:[]},f=e("vSla")(u,v,!1,function(t){e("KIhl")},"data-v-b895affc",null).exports,p=e("D7x10"),w=e("6CT3g"),y=e("aozt"),D=e.n(y),g={data:function(){return{columnId:"numColumn",columnData:[],legendArr:[],name:"订单数",typeIndex:0,activeClass:"box-card-active",errorClass:"box-card",chartType:[{name:"订单数",isNumActive:!0},{name:"订单乘机人",isNumActive:!1},{name:"订单金额",isNumActive:!1},{name:"验价数",isNumActive:!1}],xAxisData:[],legendData:[],seriesData:[],showSelectAll:!1,showFilter:!0,showWeek:!0,showMonth:!0,fromTime:0,toTime:parseInt((new Date).getTime()/1e3),tableData:[]}},mounted:function(){this.getData()},methods:{resize:function(){this.$root.charts.forEach(function(t){t.resize()})},startTime:function(t){this.fromTime=t},endTime:function(t){this.toTime=t,this.getData()},oneWeek:function(t){this.fromTime=t,this.getData()},twoWeek:function(t){this.fromTime=t,this.getData()},oneMonth:function(t){this.fromTime=t,this.getData()},typeClick:function(t){for(var a=0;a<this.chartType.length;a++)this.chartType[a].isNumActive=a==t;this.typeIndex=t,this.getData(),this.name=this.chartType[t].name},getData:function(){var t=this,a=parseInt(10*Math.random()+1);this.typeIndex<3?D.a.get("/orders_carrier?ver="+a,{params:{from:this.fromTime,to:this.toTime}}).then(function(a){var e=a.data.data,i=e.number,s=e.count,n=e.price;if(t.columnData=[],0==t.typeIndex){t.columnData=[];var r=s;t.columnData=r,t.legendData=[],t.seriesData=[];for(var o=1;o<r.length;o++)t.legendData.push({name:r[o][0],textStyle:{color:"#fff"}}),t.seriesData.push({name:r[o][0],value:r[o][3]})}else if(1==t.typeIndex){t.columnData=[];var h=i;t.columnData=h,t.legendData=[],t.seriesData=[];for(var c=1;c<h.length;c++)t.legendData.push({name:h[c][0],textStyle:{color:"#fff"}}),t.seriesData.push({name:h[c][0],value:h[c][3]})}else{t.columnData=[];var l=n;t.columnData=l,t.legendData=[],t.seriesData=[];for(var d=1;d<l.length;d++)t.legendData.push({name:l[d][0],textStyle:{color:"#fff"}}),t.seriesData.push({name:l[d][0],value:l[d][3]})}}).catch(function(t){}):D.a.get("/verify_carrier?ver="+a,{params:{from:this.fromTime,to:this.toTime}}).then(function(a){t.columnData=[];var e=a.data.data.number;t.columnData=e,t.legendData=[],t.seriesData=[];for(var i=1;i<e.length;i++)t.legendData.push({name:e[i][0],textStyle:{color:"#fff"}}),t.seriesData.push({name:e[i][0],value:e[i][5]})}).catch(function(t){})}},components:{multipleColumn:f,"v-echart-header":s.a,"v-new-pie":l,"v-column":i.a,"v-table":p.a,"v-timer":w.a}},b={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard"},[e("div",{staticClass:"container"},[e("v-timer"),t._v(" "),e("div",{staticClass:"chart-content"},[t._m(0),t._v(" "),t._l(t.chartType,function(a,i){return e("div",{key:i,class:[a.isNumActive?t.activeClass:"",t.errorClass],on:{click:function(a){t.typeClick(i)}}},[e("div",{staticClass:"box-card-header"},[e("div",{staticClass:"clearfix"},[e("span",[t._v(t._s(a.name))])])])])}),t._v(" "),e("v-new-pie",{attrs:{legendData:t.legendData,seriesData:t.seriesData}})],2),t._v(" "),e("div",{staticClass:"chart-num"},[e("v-echart-header",{attrs:{name:t.name,legendArr:t.legendArr,showSelectAll:t.showSelectAll,showFilter:t.showFilter,showWeek:t.showWeek,showMonth:t.showMonth},on:{startTime:t.startTime,endTime:t.endTime,oneWeek:t.oneWeek,twoWeek:t.twoWeek,oneMonth:t.oneMonth}}),t._v(" "),e("v-column",{attrs:{columnId:t.columnId,columnData:t.columnData}})],1)],1),t._v(" "),e("v-table",{attrs:{tableData:t.tableData}})],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-title"},[e("h1",[t._v("验价订单")])])}]},C=e("vSla")(g,b,!1,function(t){e("txPr")},"data-v-71291fb6",null);a.default=C.exports},ByBq:function(t,a){},D7x1:function(t,a,e){"use strict";var i={props:{wholePage:{type:Boolean,default:!1},tableData:{type:Array,default:[]},tableType:{type:Number,default:0}},data:function(){return{theadData:["No","日期","市民提交","已受理","已办结","办事总量"],tbodyData:[[0,2017,1620,1573,22,1620],[1,2017,1620,1573,22,1620],[2,2017,1620,1573,22,1620],[3,2017,1620,1573,22,1620],[4,2017,1620,1573,22,1620],[5,2017,1620,1573,22,1620],[6,2017,1620,1573,22,1620],[7,2017,1620,1573,22,1620],[8,2017,1620,1573,22,1620],[9,2017,1620,1573,22,1620],[10,2017,1620,1573,22,1620],[11,2017,1620,1573,22,1620],[12,2017,1620,1573,22,1620],[13,2017,1620,1573,22,1620],[14,2017,1620,1573,22,1620],[15,2017,1620,1573,22,1620],["合计","",1620,1573,22,1620]],switchData:[{name:"总体波动",isSwitchActive:!0},{name:"最大波动",isSwitchActive:!1},{name:"最小波动",isSwitchActive:!1}],switchType:0,activeClass:"swicth-title-active",errorClass:"swicth-title-inactive",tableWhole:"table-container",tableInWhole:"table-container-whole",dataArr:[],maxData:[],minData:[],switchIndex:0,current:1,showItem:5,allpage:13}},computed:{pages:function(){var t=[];if(this.current<this.showItem)for(var a=Math.min(this.showItem,this.allpage);a;)t.unshift(a--);else{var e=this.current-Math.floor(this.showItem/2),i=this.showItem;for(e>this.allpage-this.showItem&&(e=this.allpage-this.showItem+1);i--;)t.push(e++)}return t}},created:function(){var t=this;this.$watch("tableData",function(a){t.tbodyData=[],t.theadData=[],t.dataArr=[],1==t.tableType?t.switchData=[{name:"总体波动",isSwitchActive:!0}]:t.switchData=[{name:"总体波动",isSwitchActive:!0},{name:"最大波动",isSwitchActive:!1},{name:"最小波动",isSwitchActive:!1}],t.tableData.map(function(a,e){var i,s=a.name,n=a.data,r=a.data.length,o=t.stdev(n,r);i=0==o?"此数据没有波动":o>0&&o<=100?"小于100":o>100&&o<=1e3?"小于1000":"大于1000";var h;h=a.data[r-1]<a.data[r-2]?"下降":a.data[r-1]>a.data[r-2]?"上升":"没有变化",t.dataArr.push({name:s,stdevData:o,stdevType:i,changeType:h})}),t.tbodyData=t.arrSort(t.dataArr,t.dataArr.length),t.theadData=["No","波动大小数值","波动范围","最新变化情况"]})},methods:{switchClick:function(t){this.switchIndex=t;for(var a=this.switchData.length,e=0;e<a;e++)if(this.switchIndex==e)if(this.switchData[this.switchIndex].isSwitchActive=!this.switchData[this.switchIndex].isSwitchActive,this.theadData=[],this.tbodyData=[],this.theadData=["No","波动大小数值","波动范围","最新变化情况"],0==this.switchIndex)this.tbodyData=this.arrSort(this.dataArr,this.dataArr.length);else if(1==this.switchIndex){var i=[];i=this.arrSort(this.dataArr,this.dataArr.length),this.tbodyData=i.slice(0,5)}else{var s=[],n=this.dataArr.length;s=this.arrSort(this.dataArr,this.dataArr.length),this.tbodyData=s.splice(n-5,n)}else this.switchData[e].isSwitchActive=!1},stdev:function(t,a){var e=0,i=this.avg(t,a),s=0;for(e=0;e<a;e++)s+=(t[e]-i)*(t[e]-i);return Math.sqrt(s/a)},avg:function(t,a){var e=0,i=0;for(e=0;e<a;e++)i+=t[e];return i/a},arrSort:function(t,a){for(var e=0;e<a;e++)for(var i=e;i<a;i++)if(t[e].stdevData<t[i].stdevData){var s=t[e];t[e]=t[i],t[i]=s}return t},arrMax:function(t,a){for(var e=t[0].stdevData,i=1;i<a;i++)t[i].stdevData>e&&(e=t[i].stdevData)},arrMin:function(t,a){for(var e=t[0].stdevData,i=1;i<a;i++)t[i].stdevData<e&&(e=t[i].stdevData)},goto:function(t){t!=this.current&&(this.current=t)}}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"switch-title",style:"width:"+10*t.switchData.length+"%"},t._l(t.switchData,function(a,i){return e("div",{key:i,class:[a.isSwitchActive?t.activeClass:"",t.errorClass],style:"width:"+100/t.switchData.length+"%",on:{click:function(a){t.switchClick(i)}}},[t._v("\n            "+t._s(a.name)+"\n        ")])})),t._v(" "),e("div",{staticClass:"table-container",class:[t.wholePage?t.tableInWhole:""]},[e("table",{staticClass:"table-title"},[e("thead",[e("tr",t._l(t.theadData,function(a,i){return e("td",{key:i,style:"width:"+100/t.theadData.length+"%"},[t._v("\n                        "+t._s(a)+"\n                    ")])}))])]),t._v(" "),e("div",{staticClass:"table-body"},[e("table",[e("tbody",t._l(t.tbodyData,function(a,i){return e("tr",{key:i},t._l(a,function(a,i){return e("td",{key:i,style:"width:"+100/t.theadData.length+"%"},[t._v("\n                            "+t._s(a)+"\n                        ")])}))}))])])])])},staticRenderFns:[]},n=e("vSla")(i,s,!1,function(t){e("ByBq")},"data-v-01b9e3fa",null);a.a=n.exports},KIhl:function(t,a){},jwJB:function(t,a){},txPr:function(t,a){}});