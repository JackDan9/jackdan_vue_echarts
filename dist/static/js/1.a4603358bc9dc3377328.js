webpackJsonp([1],{"15Xw":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var n=e("K07iM"),i=e("5YEj"),s=e.n(i),r={props:{compareColumnId:{type:String,default:""},lossColumnData:{type:Array,default:[]},profitColumnData:{type:Array,default:[]},legendColumnData:{type:Array,default:[]},xAxisColumnData:{type:Array,default:[]}},data:function(){return{myChart:{}}},methods:{getOption:function(){var t=["1","2","3","4","5","6"];return{title:{show:!1,text:"雨量流量关系图",subtext:"数据来自西安兰特水电测控技术有限公司",x:"center"},tooltip:{show:!0,trigger:"axis",axisPointer:{animation:!1}},legend:{show:!1,data:["流量","降雨量"],x:"left"},toolbox:{show:!1,feature:{dataZoom:{yAxisIndex:"none"},restore:{},saveAsImage:{}}},axisPointer:{link:{xAxisIndex:"all"}},grid:[{left:70,right:10,height:"35%"},{left:70,right:10,top:"55%",height:"35%"}],xAxis:[{type:"category",boundaryGap:!1,axisLine:{onZero:!0},axisLabel:{color:"#fff",fontSize:14},data:t},{gridIndex:1,type:"category",boundaryGap:!1,axisLine:{onZero:!0},axisLabel:{color:"#fff",fontSize:14},data:t,position:"top"}],yAxis:[{name:"盈利(元)",nameTextStyle:{color:"#fff",fontSize:14},type:"value",axisLabel:{color:"#fff",fontSize:14}},{gridIndex:1,name:"亏损(元)",nameTextStyle:{color:"#fff",fontSize:14},type:"value",axisLabel:{color:"#fff",fontSize:14},inverse:!0}],series:[{name:"盈利",type:"line",hoverAnimation:!1,data:[.97,.96,.96,.95,.95,.94]},{name:"亏损",type:"line",xAxisIndex:1,yAxisIndex:1,data:[0,0,0,0,0,0,0,0,0]}]}}},created:function(){var t=this;this.$watch("legendColumnData.lossColumnData.profitColumnData.xAxisColumnData",function(a){t.myChart.showLoading({text:"Loading...",color:"#23531",textColor:"#fff",maskColor:"#272D3A",zlevel:0}),setTimeout(function(){t.myChart.hideLoading(),t.myChart.setOption({xAxis:[{data:t.xAxisColumnData},{data:t.xAxisColumnData}],series:[{data:t.profitColumnData},{data:t.lossColumnData}]})},1e3)},{deep:!this.watchShallow})},mounted:function(){this.myChart=s.a.init(document.getElementById(this.compareColumnId)),this.myChart.setOption(this.getOption(),!0),window.addEventListener("resize",this.myChart.resize)}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"compare-column-chart"},[e("div",{attrs:{id:t.compareColumnId}})])},staticRenderFns:[]},l=e("vSla")(r,o,!1,function(t){e("hkqA")},"data-v-7fe26dae",null).exports,h=e("Userh"),c={title:{show:!1,text:"订单数",subtext:"",x:"center",textStyle:{color:"#fff"}},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{show:!0,type:"scroll",right:0,top:0,bottom:0,inactiveColor:"#333",pageFormatter:"{current}",pageIconColor:"#fff",pageIconInactiveColor:"#333",pageTextStyle:{color:"#fff"},data:[]},series:[{name:"",type:"pie",radius:["65%","85%"],center:["50%","55%"],avoidLabelOverlap:!1,label:{normal:{show:!1,position:"center"},emphasis:{show:!0,textStyle:{fontSize:"30",fontWeight:"bold"}}},labelLine:{normal:{show:!1}},data:[{name:"VJ",value:48},{name:"VY",value:35},{name:"VJ",value:410}],itemStyle:{emphasis:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},m={props:{legendData:{type:Array,default:[]},seriesData:{type:Array,default:[]}},data:function(){return{myChart:{}}},mounted:function(){this.init()},created:function(){var t=this;this.$watch("legendData.seriesData",function(a){!t.myChart&&legendData.seriesData?t.init():(t.myChart=s.a.init(document.getElementById("newPieId")),t.myChart.setOption(c,!0),t.myChart.setOption({legend:{data:t.legendData},series:[{data:t.seriesData}]}))},{deep:!this.watchShallow})},methods:{init:function(){this.myChart||(this.myChart=s.a.init(document.getElementById("newPieId")),this.myChart.setOption(c,!0),window.addEventListener("resize",this.myChart.resize))}}},d={render:function(){var t=this;t.$createElement;return t._self._c,t._m(0)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"new-pie-container"},[a("div",{attrs:{id:"newPieId"}})])}]},u=e("vSla")(m,d,!1,function(t){e("jwJB")},"data-v-4f092dec",null).exports,f=e("rUbYz"),v={title:{show:!1},tooltip:{trigger:"axis"},legend:{show:!1},toolbox:{show:!1},color:["#325B69","#698570","#AE5548","#6D9EA8","#9CC2B0","#C98769"],calculable:!0,xAxis:[{name:"产品",type:"category",axisLine:{show:!1},axisTick:{show:!1},nameTextStyle:{color:"rgba(255, 255, 255, 0.69)"},axisLabel:{textStyle:{color:"white"}},data:["产品1","产品2","产品3","产品4","产品5"]}],yAxis:[{axisLine:{show:!1},nameLocation:"end",nameGap:20,nameRotate:0,axisTick:{show:!1},splitLine:{lineStyle:{color:["rgba(230, 230, 230, 0.2)"]}},axisLabel:{textStyle:{color:"white",fontSize:14}},name:"数量",type:"value",nameTextStyle:{color:"rgba(255, 255, 255, 0.69)"}}],series:[{name:"标签1",stack:"stack1",type:"bar",data:[2,4.9,5.9,3,6],barWidth:16,barGap:0},{name:"标签2",stack:"stack2",type:"bar",data:[2.6,5.9,3.6,6,8],barWidth:16,barGap:0},{name:"标签3",stack:"stack3",type:"bar",data:[2,6.4,6,4,5],barWidth:16,barGap:0},{name:"标签4",stack:"stack1",type:"bar",data:[4,5.9,3,3,6],barWidth:16,barGap:0},{name:"标签5",stack:"stack2",type:"bar",data:[5.6,4.9,6,5,5],barWidth:16,barGap:0},{name:"标签6",stack:"stack3",type:"bar",data:[2,3.4,8],barWidth:16,barGap:0}]},p={data:function(){return{legendArr:[],color:this.$store.state.color,styleArr:[],myChart:{},name:"复杂柱状图"}},methods:{init:function(){this.legendArr=this.myChart.getOption().series,this.legendArr.forEach(function(t){t.selected=!0}),this.$root.charts.push(this.myChart),window.addEventListener("resize",function(){this.myChart.resize()}.bind(this))}},components:{"v-echart-header":h.a,"v-filter":f.a},mounted:function(){this.myChart=s.a.init(document.getElementById("multipleColumnChart")),this.myChart.setOption(v),this.init()}},D={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"multipleColumn"},[e("v-echart-header",{attrs:{name:t.name,legendArr:t.legendArr,myChart:t.myChart}}),t._v(" "),e("div",{staticClass:"filter"},[t.myChart._dom?e("v-filter",{attrs:{myChart:t.myChart}}):t._e()],1),t._v(" "),e("div",{staticClass:"main",attrs:{id:"multipleColumnChart"}})],1)},staticRenderFns:[]},y=e("vSla")(p,D,!1,function(t){e("KIhl")},"data-v-b895affc",null).exports,C=e("D7x10"),w=e("6CT3g"),g=e("aozt"),x=e.n(g),b={data:function(){return{showColumn:!0,columnId:"numColumn",columnData:[],legendArr:[],name:"订单数",typeIndex:0,activeClass:"box-card-active",errorClass:"box-card",chartType:[{name:"订单数",isNumActive:!0},{name:"订单乘机人",isNumActive:!1},{name:"订单金额",isNumActive:!1},{name:"亏损数目",isNumActive:!1},{name:"盈利数目",isNumActive:!1},{name:"对比数目",isNumActive:!1},{name:"验价数",isNumActive:!1}],xAxisData:[],legendData:[],seriesData:[],compareColumnId:"compareColumn",xAxisColumnData:[],legendColumnData:[],lossColumnData:[],profitColumnData:[],showCompareColumn:!1,showSelectAll:!1,showFilter:!0,showWeek:!0,showMonth:!0,fromTime:0,toTime:parseInt((new Date).getTime()/1e3),tableData:[]}},mounted:function(){this.getData()},methods:{resize:function(){this.$root.charts.forEach(function(t){t.resize()})},startTime:function(t){this.fromTime=t},endTime:function(t){this.toTime=t,this.getData()},oneWeek:function(t){this.fromTime=t,this.getData()},twoWeek:function(t){this.fromTime=t,this.getData()},oneMonth:function(t){this.fromTime=t,this.getData()},typeClick:function(t){for(var a=0;a<this.chartType.length;a++)this.chartType[a].isNumActive=a==t;this.typeIndex=t,5==t?(this.showCompareColumn=!0,this.showColumn=!1,this.getData()):(this.showColumn=!0,this.showCompareColumn=!1,this.getData()),this.name=this.chartType[t].name},getData:function(){var t=this,a=parseInt(10*Math.random()+1);this.typeIndex<6?x.a.get("/orders_carrier?ver="+a,{params:{from:this.fromTime,to:this.toTime}}).then(function(a){var e=a.data.data,n=e.number,i=e.count,s=e.price,r=e.loss,o=e.profit;if(t.columnData=[],0==t.typeIndex){t.columnData=[];var l=i;t.columnData=l,t.legendData=[],t.seriesData=[];for(var h=1;h<l.length;h++)t.legendData.push({name:l[h][0],textStyle:{color:"#fff"}}),t.seriesData.push({name:l[h][0],value:l[h][3]})}else if(1==t.typeIndex){t.columnData=[];var c=n;t.columnData=c,t.legendData=[],t.seriesData=[];for(var m=1;m<c.length;m++)t.legendData.push({name:c[m][0],textStyle:{color:"#fff"}}),t.seriesData.push({name:c[m][0],value:c[m][3]})}else if(2==t.typeIndex){t.columnData=[];var d=s;t.columnData=d,t.legendData=[],t.seriesData=[];for(var u=1;u<d.length;u++)t.legendData.push({name:d[u][0],textStyle:{color:"#fff"}}),t.seriesData.push({name:d[u][0],value:d[u][3]})}else if(3==t.typeIndex){t.columnData=[];var f=r;t.columnData=f,t.legendData=[],t.seriesData=[];for(var v=1;v<f.length;v++)t.legendData.push({name:f[v][0],textStyle:{color:"#fff"}}),t.seriesData.push({name:f[v][0],value:f[v][3]})}else if(4==t.typeIndex){t.columnData=[];var p=o;t.columnData=p,t.legendData=[],t.seriesData=[];for(var D=1;D<p.length;D++)t.legendData.push({name:p[D][0],textStyle:{color:"#fff"}}),t.seriesData.push({name:p[D][0],value:p[D][3]})}else{var y=o;t.xAxisColumnData=[],t.legendColumnData=[],t.lossColumnData=[],t.profitColumnData=[];for(var C=1;C<y.length;C++)t.xAxisColumnData.push(y[C][0]),t.lossColumnData.push(r[C][5]),t.profitColumnData.push(o[C][5])}}).catch(function(t){}):x.a.get("/verify_carrier?ver="+a,{params:{from:this.fromTime,to:this.toTime}}).then(function(a){t.showColumn=!0,t.showCompareColumn=!1,t.columnData=[];var e=a.data.data.number;t.columnData=e,t.legendData=[],t.seriesData=[];for(var n=1;n<e.length;n++)t.legendData.push({name:e[n][0],textStyle:{color:"#fff"}}),t.seriesData.push({name:e[n][0],value:e[n][5]})}).catch(function(t){})}},components:{multipleColumn:y,"v-echart-header":h.a,"v-new-pie":u,"v-column":n.a,"v-compare-column":l,"v-table":C.a,"v-timer":w.a}},A={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"dashboard"},[e("div",{staticClass:"container"},[e("v-timer"),t._v(" "),e("div",{staticClass:"chart-content"},[t._m(0),t._v(" "),t._l(t.chartType,function(a,n){return e("div",{key:n,class:[a.isNumActive?t.activeClass:"",t.errorClass],on:{click:function(a){t.typeClick(n)}}},[e("div",{staticClass:"box-card-header"},[e("div",{staticClass:"clearfix"},[e("span",[t._v(t._s(a.name))])])])])}),t._v(" "),e("v-new-pie",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{legendData:t.legendData,seriesData:t.seriesData}})],2),t._v(" "),e("div",{staticClass:"chart-num"},[e("v-echart-header",{attrs:{name:t.name,legendArr:t.legendArr,showSelectAll:t.showSelectAll,showFilter:t.showFilter,showWeek:t.showWeek,showMonth:t.showMonth},on:{startTime:t.startTime,endTime:t.endTime,oneWeek:t.oneWeek,twoWeek:t.twoWeek,oneMonth:t.oneMonth}}),t._v(" "),t.showColumn?e("v-column",{attrs:{columnId:t.columnId,columnData:t.columnData}}):t._e(),t._v(" "),t.showCompareColumn?e("v-compare-column",{attrs:{compareColumnId:t.compareColumnId,xAxisColumnData:t.xAxisColumnData,legendColumnData:t.legendColumnData,lossColumnData:t.lossColumnData,profitColumnData:t.profitColumnData}}):t._e()],1)],1),t._v(" "),e("v-table",{attrs:{tableData:t.tableData}})],1)},staticRenderFns:[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"chart-title"},[e("h1",[t._v("验价订单")])])}]},I=e("vSla")(b,A,!1,function(t){e("rjb1")},"data-v-14a4aeac",null);a.default=I.exports},ByBq:function(t,a){},D7x1:function(t,a,e){"use strict";var n={props:{wholePage:{type:Boolean,default:!1},tableData:{type:Array,default:[]},tableType:{type:Number,default:0}},data:function(){return{theadData:["No","日期","市民提交","已受理","已办结","办事总量"],tbodyData:[[0,2017,1620,1573,22,1620],[1,2017,1620,1573,22,1620],[2,2017,1620,1573,22,1620],[3,2017,1620,1573,22,1620],[4,2017,1620,1573,22,1620],[5,2017,1620,1573,22,1620],[6,2017,1620,1573,22,1620],[7,2017,1620,1573,22,1620],[8,2017,1620,1573,22,1620],[9,2017,1620,1573,22,1620],[10,2017,1620,1573,22,1620],[11,2017,1620,1573,22,1620],[12,2017,1620,1573,22,1620],[13,2017,1620,1573,22,1620],[14,2017,1620,1573,22,1620],[15,2017,1620,1573,22,1620],["合计","",1620,1573,22,1620]],switchData:[{name:"总体波动",isSwitchActive:!0},{name:"最大波动",isSwitchActive:!1},{name:"最小波动",isSwitchActive:!1}],switchType:0,activeClass:"swicth-title-active",errorClass:"swicth-title-inactive",tableWhole:"table-container",tableInWhole:"table-container-whole",dataArr:[],maxData:[],minData:[],switchIndex:0,current:1,showItem:5,allpage:13}},computed:{pages:function(){var t=[];if(this.current<this.showItem)for(var a=Math.min(this.showItem,this.allpage);a;)t.unshift(a--);else{var e=this.current-Math.floor(this.showItem/2),n=this.showItem;for(e>this.allpage-this.showItem&&(e=this.allpage-this.showItem+1);n--;)t.push(e++)}return t}},created:function(){var t=this;this.$watch("tableData",function(a){t.tbodyData=[],t.theadData=[],t.dataArr=[],1==t.tableType?t.switchData=[{name:"总体波动",isSwitchActive:!0}]:t.switchData=[{name:"总体波动",isSwitchActive:!0},{name:"最大波动",isSwitchActive:!1},{name:"最小波动",isSwitchActive:!1}],t.tableData.map(function(a,e){var n,i=a.name,s=a.data,r=a.data.length,o=t.stdev(s,r);n=0==o?"此数据没有波动":o>0&&o<=100?"小于100":o>100&&o<=1e3?"小于1000":"大于1000";var l;l=a.data[r-1]<a.data[r-2]?"下降":a.data[r-1]>a.data[r-2]?"上升":"没有变化",t.dataArr.push({name:i,stdevData:o,stdevType:n,changeType:l})}),t.tbodyData=t.arrSort(t.dataArr,t.dataArr.length),t.theadData=["No","波动大小数值","波动范围","最新变化情况"]})},methods:{switchClick:function(t){this.switchIndex=t;for(var a=this.switchData.length,e=0;e<a;e++)if(this.switchIndex==e)if(this.switchData[this.switchIndex].isSwitchActive=!this.switchData[this.switchIndex].isSwitchActive,this.theadData=[],this.tbodyData=[],this.theadData=["No","波动大小数值","波动范围","最新变化情况"],0==this.switchIndex)this.tbodyData=this.arrSort(this.dataArr,this.dataArr.length);else if(1==this.switchIndex){var n=[];n=this.arrSort(this.dataArr,this.dataArr.length),this.tbodyData=n.slice(0,5)}else{var i=[],s=this.dataArr.length;i=this.arrSort(this.dataArr,this.dataArr.length),this.tbodyData=i.splice(s-5,s)}else this.switchData[e].isSwitchActive=!1},stdev:function(t,a){var e=0,n=this.avg(t,a),i=0;for(e=0;e<a;e++)i+=(t[e]-n)*(t[e]-n);return Math.sqrt(i/a)},avg:function(t,a){var e=0,n=0;for(e=0;e<a;e++)n+=t[e];return n/a},arrSort:function(t,a){for(var e=0;e<a;e++)for(var n=e;n<a;n++)if(t[e].stdevData<t[n].stdevData){var i=t[e];t[e]=t[n],t[n]=i}return t},arrMax:function(t,a){for(var e=t[0].stdevData,n=1;n<a;n++)t[n].stdevData>e&&(e=t[n].stdevData)},arrMin:function(t,a){for(var e=t[0].stdevData,n=1;n<a;n++)t[n].stdevData<e&&(e=t[n].stdevData)},goto:function(t){t!=this.current&&(this.current=t)}}},i={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("div",{staticClass:"switch-title",style:"width:"+10*t.switchData.length+"%"},t._l(t.switchData,function(a,n){return e("div",{key:n,class:[a.isSwitchActive?t.activeClass:"",t.errorClass],style:"width:"+100/t.switchData.length+"%",on:{click:function(a){t.switchClick(n)}}},[t._v("\n            "+t._s(a.name)+"\n        ")])})),t._v(" "),e("div",{staticClass:"table-container",class:[t.wholePage?t.tableInWhole:""]},[e("table",{staticClass:"table-title"},[e("thead",[e("tr",t._l(t.theadData,function(a,n){return e("td",{key:n,style:"width:"+100/t.theadData.length+"%"},[t._v("\n                        "+t._s(a)+"\n                    ")])}))])]),t._v(" "),e("div",{staticClass:"table-body"},[e("table",[e("tbody",t._l(t.tbodyData,function(a,n){return e("tr",{key:n},t._l(a,function(a,n){return e("td",{key:n,style:"width:"+100/t.theadData.length+"%"},[t._v("\n                            "+t._s(a)+"\n                        ")])}))}))])])])])},staticRenderFns:[]},s=e("vSla")(n,i,!1,function(t){e("ByBq")},"data-v-01b9e3fa",null);a.a=s.exports},KIhl:function(t,a){},hkqA:function(t,a){},jwJB:function(t,a){},rjb1:function(t,a){}});